import{_ as r,K as t,L as d,a5 as n,M as e,N as s,W as i,F as a}from"./framework-edebdfe1.js";const u={},p=e("h1",{id:"wsl",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wsl","aria-hidden":"true"},"#"),s(" WSL")],-1),c=e("p",null,"WSL（Windows Subsystem for Linux）是微软推出的一种在 Windows 上运行 Linux 环境的兼容层。它允许用户在 Windows 上直接运行 Linux 命令行工具和应用程序，而无需启动虚拟机或双系统。WSL 使得开发人员能够在 Windows 上享受 Linux 系统的一些优势，如使用 Linux 工具链、运行 Bash 脚本等。",-1),h=e("ul",null,[e("li",null,[e("p",null,"WSL 1：通过系统调用兼容层实现，它使得 Windows 与 Linux 内核直接互操作，但性能相对较低，尤其是在文件系统操作上。")]),e("li",null,[e("p",null,"WSL 2：引入了真正的 Linux 内核，在 Windows 上运行一个轻量级的虚拟机，使得 Linux 的性能大大提升，尤其是在 I/O 密集型操作方面。WSL 2 也支持 Docker 和其他容器技术，因为它提供了与原生 Linux 内核相同的功能。")])],-1),w=e("h2",{id:"wsl使用",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#wsl使用","aria-hidden":"true"},"#"),s(" WSL使用")],-1),v={id:"_1-启用-wsl",tabindex:"-1"},b=e("a",{class:"header-anchor",href:"#_1-启用-wsl","aria-hidden":"true"},"#",-1),m={href:"https://learn.microsoft.com/zh-cn/windows/wsl/basic-commands",target:"_blank",rel:"noopener noreferrer"},L=i(`<h3 id="windows-10-版本-1903-或更高版本-或-windows-11" tabindex="-1"><a class="header-anchor" href="#windows-10-版本-1903-或更高版本-或-windows-11" aria-hidden="true">#</a> Windows 10（版本 1903 或更高版本）或 Windows 11：</h3><ol><li><p><strong>启用 Windows Subsystem for Linux 功能</strong></p><ul><li><p>打开 PowerShell 以管理员身份运行，并输入以下命令：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>dism<span class="token punctuation">.</span>exe <span class="token operator">/</span>online <span class="token operator">/</span><span class="token function">enable-feature</span> <span class="token operator">/</span>featurename:VirtualMachinePlatform <span class="token operator">/</span>all <span class="token operator">/</span>norestart
dism<span class="token punctuation">.</span>exe <span class="token operator">/</span>online <span class="token operator">/</span><span class="token function">enable-feature</span> <span class="token operator">/</span>featurename:Microsoft-Windows-Subsystem-Linux <span class="token operator">/</span>all
wsl <span class="token operator">--</span>install
wsl <span class="token operator">--</span>unregister ubuntu 卸载
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个命令会自动启用 WSL 和 Hyper-V 功能，安装 WSL 2 和 Linux 内核更新。如果你只需要安装 WSL 1，可以使用 <code>wsl --set-default-version 1</code> 命令。</p></li></ul></li><li><p><strong>安装 Linux 发行版</strong></p><ul><li><p>运行以下命令，选择并安装你喜欢的 Linux 发行版（如 Ubuntu）：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>wsl <span class="token operator">--</span>install <span class="token operator">-</span>d Ubuntu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>如果你已经安装了 WSL，但尚未选择 Linux 发行版，可以从 Microsoft Store 中安装。例如，打开 Microsoft Store，搜索并安装 <code>Ubuntu</code>、<code>Debian</code>、<code>Kali Linux</code> 等 Linux 发行版。</p></li></ul></li><li><p><strong>重启计算机</strong></p><ul><li>安装完成后，可能需要重启计算机以完成 WSL 配置。</li></ul></li></ol><h2 id="_2-启动和配置-wsl" tabindex="-1"><a class="header-anchor" href="#_2-启动和配置-wsl" aria-hidden="true">#</a> 2. 启动和配置 WSL</h2><ol><li><p><strong>启动 WSL</strong></p><ul><li><p>安装并配置好后，你可以通过命令行启动 Linux 环境。打开 PowerShell 或命令提示符，输入：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>wsl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或者，输入你安装的 Linux 发行版的名称，例如：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>ubuntu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样会启动你的 Linux shell 环境。</p></li></ul></li><li><p><strong>首次启动</strong></p><ul><li>如果是第一次启动 WSL，会要求你设置 Linux 用户名和密码。</li></ul></li></ol><h2 id="_3-选择-wsl-版本-wsl-1-或-wsl-2" tabindex="-1"><a class="header-anchor" href="#_3-选择-wsl-版本-wsl-1-或-wsl-2" aria-hidden="true">#</a> 3. 选择 WSL 版本（WSL 1 或 WSL 2）</h2><ol><li><p><strong>检查当前 WSL 版本</strong></p><ul><li><p>你可以查看当前已安装的 Linux 发行版版本：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>wsl <span class="token operator">-</span>l <span class="token operator">-</span>v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p><strong>切换版本</strong></p><ul><li><p>如果你希望切换到 WSL 2，可以运行以下命令（假设发行版为 <code>Ubuntu</code>）：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>wsl <span class="token operator">--</span><span class="token function">set-version</span> Ubuntu 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>要切换回 WSL 1，使用：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>wsl <span class="token operator">--</span><span class="token function">set-version</span> Ubuntu 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p><strong>设置默认版本</strong></p><ul><li><p>设置 WSL 2 为默认版本（适用于所有新安装的 Linux 发行版）：</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>wsl <span class="token operator">--</span><span class="token function">set-default</span><span class="token operator">-</span>version 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="安装目录" tabindex="-1"><a class="header-anchor" href="#安装目录" aria-hidden="true">#</a> 安装目录</h2>`,7),x={href:"https://learn.microsoft.com/en-us/windows/wsl/install-manual#downloading-distributions",target:"_blank",rel:"noopener noreferrer"},g=e("li",null,"导入Linux",-1),_=i('<p><code>wsl --export ubuntu D://wsl_linux/ubuntu</code></p><ul><li>导入Linux</li></ul><p><code> wsl --import ubuntu D:\\WSL_Linux\\ubuntu\\ubuntu D:\\WSL_Linux\\ubuntu\\ubuntu.tar</code></p><h2 id="虚拟机冲突w" tabindex="-1"><a class="header-anchor" href="#虚拟机冲突w" aria-hidden="true">#</a> 虚拟机冲突W</h2><ul><li><p>WSL 2 和 Hyper-V 是兼容的，因为 WSL 2 依赖 Hyper-V 来虚拟化 Linux 内核。</p></li><li><p>VMware 和 Hyper-V 以及 VirtualBox 和 Hyper-V 存在冲突，因为它们都依赖硬件虚拟化资源。如果启用 Hyper-V，VMware 和 VirtualBox 无法正常工作。</p></li><li><p>WSL 1 不依赖硬件虚拟化，与你的虚拟机软件（如 VMware 和 VirtualBox）兼容。</p></li></ul>',5);function W(f,S){const o=a("DocsAD"),l=a("ExternalLinkIcon");return t(),d("div",null,[p,c,n(o),h,w,e("h2",v,[b,s(" 1. 启用 "),e("a",m,[s("WSL"),n(l)])]),L,e("ul",null,[e("li",null,[e("a",x,[s("下载指定Linux"),n(l)])]),g]),_])}const V=r(u,[["render",W],["__file","wsl.html.vue"]]);export{V as default};
